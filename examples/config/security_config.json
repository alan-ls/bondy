[
    {
        "uri" : "com.leapsight.bondy",
        "authmethods" : ["wampcra", "anonymous", "password", "trust"],
        "security_enabled" : true,
        "users" : [
        ],
        "groups" : [
            {
                "name" : "administrators",
                "groups" : [],
                "meta" : {
                    "description": "The administrators of Bondy."
                }
            }
        ],
        "sources" : [
            {
                "usernames" : "all",
                "authmethod" : "wampcra",
                "cidr" : "0.0.0.0/0",
                "meta" : {
                "description" : "Allows all users from any network authenticate using password credentials."
                }
            },
            {
                "usernames" : "all",
                "authmethod" : "cryptosign",
                "cidr" : "0.0.0.0/0",
                "meta" : {
                "description" : "Allows all users from any network authenticate using password credentials."
                }
            },
            {
                "usernames" : ["anonymous"],
                "authmethod" : "anonymous",
                "cidr" : "0.0.0.0/0",
                "meta" : {
                "description" : "Allows all users from any network authenticate as anonymous."
                }
            }
        ],
        "grants" : [
            {
                "permissions" : [
                    "wamp.register",
                    "wamp.unregister",
                    "wamp.subscribe",
                    "wamp.unsubscribe",
                    "wamp.call",
                    "wamp.cancel",
                    "wamp.publish"
                ],
                "uri" : "",
                "match" : "prefix",
                "roles" : "all"
            },
            {
                "permissions" : [
                    "wamp.register",
                    "wamp.unregister",
                    "wamp.subscribe",
                    "wamp.unsubscribe",
                    "wamp.call",
                    "wamp.cancel",
                    "wamp.publish"
                ],
                "uri" : "",
                "match" : "prefix",
                "roles" : ["anonymous"]
            }
        ]
    },
    {
        "uri" : "com.leapsight.test",
        "description" : "A test realm",
        "authmethods" : ["cryptosign", "wampcra", "anonymous", "oauth2", "password", "trust"],
        "security_enabled" : true,
        "private_keys": [
            "-----BEGIN EC PRIVATE KEY-----\nMHcCAQEEIOVy5ra743OMFyPgUkPXsQbCx4Z7ViNjee3exi2sMRWhoAoGCCqGSM49\nAwEHoUQDQgAE35dxB+NVWz4bXcC/XeV+ikfL6Vn3FgsAn6MZDwClOB8D31w8hTrH\nVHHDgjJ9xLK7obFDgrNAdpK11Y/tApQhVQ==\n-----END EC PRIVATE KEY-----\n\n",
            "-----BEGIN EC PRIVATE KEY-----\nMHcCAQEEIL1pG+GIs/rAV7Gaev65hPpXeNeMFWUhOv8TnPD7dPY4oAoGCCqGSM49\nAwEHoUQDQgAEAEjB2EC5kchCFuylw7Qcna4ERPGzkogcoInYLEQI1Crkag2wiHKU\naziyiCgs/sM4qt1Tg47an53BYPPfBUJhIA==\n-----END EC PRIVATE KEY-----\n\n",
            "-----BEGIN EC PRIVATE KEY-----\nMHcCAQEEIAJRhRKd0kWLeSv+ZqxaNZjePVLKb37neKF6+Yvbb2hFoAoGCCqGSM49\nAwEHoUQDQgAEjHJMWbqcWPemB7X+a1eZ1ctcoTAxdJqffp1Yil/Pbqe7mZAZ7bie\nmurWvNW9c4x6qTuHv7jcBiwyBYho3FBlMw==\n-----END EC PRIVATE KEY-----\n\n"
        ],
        "users" : [
            {
                "username" : "app1",
                "password" : "changethispassword",
                "groups" : ["api_clients"],
                "meta" : {}
            },
            {
                "username" : "peer1",
                "password" : "changethispassword",
                "groups" : ["microservices"],
                "meta" : {}
            },
            {
                "username" : "peer2",
                "password" : "changethispassword",
                "groups" : ["microservices"],
                "meta" : {}
            },
            {
                "username": "device1",
                "authorized_keys": ["1766c9e6ec7d7b354fd7a2e4542753a23cae0b901228305621e5b8713299ccdd"],
                "groups" : ["devices"],
                "comment": "for testing the corresponding priv key is '4ffddd896a530ce5ee8c86b83b0d31835490a97a9cd718cb2f09c9fd31c4a7d71766c9e6ec7d7b354fd7a2e4542753a23cae0b901228305621e5b8713299ccdd'"
            }
        ],
        "groups" : [
            {
                "name" : "api_clients",
                "groups" : [],
                "meta" : {}
            },
            {
                "name" : "microservices",
                "groups" : [],
                "meta" : {}
            },
            {
                "name" : "devices",
                "groups" : [],
                "meta" : {}
            },
            {
                "name" : "account_admin",
                "groups" : [],
                "meta" : {}
            },
            {
                "name" : "account_user",
                "groups" : [],
                "meta" : {}
            }
        ],
        "sources" : [
            {
                "usernames" : "all",
                "authmethod" : "password",
                "cidr" : "0.0.0.0/0",
                "meta" : {}
            },
            {
                "usernames" : "all",
                "authmethod" : "wampcra",
                "cidr" : "0.0.0.0/0",
                "meta" : {}
            },
            {
                "usernames" : ["anonymous"],
                "authmethod" : "anonymous",
                "cidr" : "0.0.0.0/0",
                "meta" : {}
            },
            {
                "usernames" : ["peer2"],
                "authmethod" : "trust",
                "cidr" : "0.0.0.0/0",
                "meta" : {}
            },
            {
                "usernames" : ["device1"],
                "authmethod" : "cryptosign",
                "cidr" : "0.0.0.0/0",
                "meta" : {}
            }
        ],
        "grants" : [
            {
                "permissions" : [
                    "wamp.register",
                    "wamp.unregister",
                    "wamp.subscribe",
                    "wamp.unsubscribe",
                    "wamp.call",
                    "wamp.cancel",
                    "wamp.publish"
                ],
                "uri" : "",
                "match": "prefix",
                "roles" : ["anonymous"]
            },
            {
                "permissions" : [
                    "wamp.register",
                    "wamp.unregister"
                ],
                "uri" : "com.leapsight.add",
                "roles" : ["microservices"]
            },
            {
                "permissions" : [
                    "wamp.subscribe",
                    "wamp.unsubscribe",
                    "wamp.publish"
                ],
                "uri" : "com.example.event",
                "roles" : ["peer1", "peer2"]
            },
            {
                "permissions" : [
                    "wamp.register",
                    "wamp.unregister",
                    "wamp.call",
                    "wamp.cancel"
                ],
                "uri" : "com.example",
                "match": "prefix",
                "roles" : ["peer1", "peer2"]
            },
            {
                "permissions" : [
                    "wamp.call",
                    "wamp.cancel"
                ],
                "uri" : "wamp.",
                "match": "prefix",
                "roles" : ["peer1", "peer2"]
            },
            {
                "permissions" : [
                    "wamp.call",
                    "wamp.cancel"
                ],
                "uri" : "bondy.",
                "match": "prefix",
                "roles" : ["peer1", "peer2"]
            }
        ],
        "oauth2" : {
            "clients" : [
                {
                    "client_id" : "webapp",
                    "client_secret" : "secret",
                    "description": "A test client",
                    "groups":["admin"]
                }
            ],
            "resource_owners" : [
                {
                    "username" : "user3@example.com",
                    "password" : "123456",
                    "groups" : ["account_admin"],
                    "meta" : {
                        "account_id" : "1",
                        "user_id" : "1"
                    }
                }
            ]
        }
    },
    {
        "uri" : "com.leapsight.test_1",
        "description" : "A test realm",
        "authmethods" : ["cryptosign", "wampcra"],
        "security_enabled" : true,
        "allow_connections": true,
        "sso_realm_uri": "com.leapsight.sso",
        "users" : [
            {
                "username": "martin",
                "password": "123456",
                "groups": [],
                "meta": {
                    "band": "Queens of the Stone Edge"
                },
                "sso_opts" : {
                    "realm_uri": "com.leapsight.sso",
                    "groups": [],
                    "meta": {
                        "food": "BBQ"
                    }
                }
            }
        ]
    },
    {
        "uri" : "com.leapsight.test_2",
        "description" : "A test realm",
        "authmethods" : ["cryptosign", "wampcra"],
        "security_enabled" : true,
        "allow_connections": true,
        "sso_realm_uri": "com.leapsight.sso",
        "sources" : [
            {
                "usernames" : "all",
                "authmethod" : "wampcra",
                "cidr" : "0.0.0.0/0",
                "meta" : {}
            },
            {
                "usernames" : "all",
                "authmethod" : "cryptosign",
                "cidr" : "0.0.0.0/0",
                "meta" : {}
            }
        ],
        "groups" : [
            {
                "name" : "local_group",
                "groups" : []
            }
        ],
        "grants" : [
            {
                "permissions" : [
                    "wamp.register",
                    "wamp.unregister",
                    "wamp.subscribe",
                    "wamp.unsubscribe",
                    "wamp.call",
                    "wamp.cancel",
                    "wamp.publish"
                ],
                "uri" : "",
                "match": "prefix",
                "roles" : ["local_group"]
            }
        ],
        "users" : [
            {
                "username": "amanda",
                "password": "changethispassword",
                "groups": ["local_group"],
                "meta": {
                    "band": "Depeche Mode"
                },
                "sso_opts" : {
                    "realm_uri": "com.leapsight.sso",
                    "groups": [],
                    "meta": {
                        "food": "Indian"
                    }
                }
            }
        ]
    },
    {
        "uri" : "com.leapsight.sso",
        "description" : "A test realm",
        "authmethods" : ["cryptosign", "wampcra"],
        "security_enabled" : true,
        "allow_connections": false,
        "is_sso_realm": true
    }
]
